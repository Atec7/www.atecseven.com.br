<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AtecSeven Tecnologia | Inovando o Futuro</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

  <style>
    /* ---------- Base ---------- */
:root {
  --bg:#f4f7fb;
  --card:#ffffff;
  --primary:#007bff;
  --secondary:#00d4ff;
  --muted:#6b7280;
  --radius:14px;
  --transition:all .35s cubic-bezier(.2,.9,.3,1);
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;overflow-x:hidden}
body{
  font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  background:linear-gradient(180deg,var(--bg),#e9eef6);
  color:#0b1724;
  -webkit-font-smoothing:antialiased;
  transition:var(--transition);
}

/* ---------- Header ---------- */
header{
  padding:48px 20px;
  text-align:center;
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  color:#fff;
}
header img{
  width:100%;
  max-width:120px;
  height:auto;
  border-radius:50%;
  box-shadow:0 8px 30px rgba(0,0,0,0.18);
}
header h1{
  font-size:clamp(1.3rem,4vw,2rem);
  font-weight:800;
  margin-top:10px;
}
header p{
  font-size:clamp(0.9rem,2vw,1rem);
  opacity:.9;
}

/* ---------- Nav ---------- */
nav{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:1rem;
  background:#fff;
  position:sticky;
  top:0;
  z-index:60;
  padding:12px 8px;
  box-shadow:0 6px 20px rgba(12,20,30,0.06);
}
nav a,nav button{
  border:none;
  background:none;
  color:var(--muted);
  font-weight:600;
  cursor:pointer;
  padding:6px 10px;
  transition:var(--transition);
  font-size:clamp(0.85rem,2vw,1rem);
}
nav a:hover,nav button:hover{color:var(--primary)}
nav a.active{color:var(--primary);border-bottom:3px solid rgba(0,123,255,0.2);}

/* ---------- Layout ---------- */
main{
  max-width:1200px;
  margin:40px auto;
  padding:0 20px;
}
section{
  display:none;
  opacity:0;
  transform:translateY(10px);
  transition:var(--transition);
  padding:36px 0;
}
section.active{display:block;opacity:1;transform:none}
h2{
  color:var(--primary);
  text-align:center;
  font-size:clamp(1.2rem,3vw,1.8rem);
  margin-bottom:32px;
}

/* ---------- Cards / Servi√ßos ---------- */
.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:24px;
}
.card{
  background:var(--card);
  border-radius:var(--radius);
  padding:24px;
  box-shadow:0 6px 20px rgba(12,20,30,0.06);
  transition:var(--transition);
}
.card:hover{
  transform:translateY(-6px);
  box-shadow:0 10px 28px rgba(12,20,30,0.12);
}
.card h3{margin-bottom:10px;color:var(--primary);font-size:clamp(1rem,2.5vw,1.2rem);}
.card p{color:var(--muted);font-size:clamp(0.85rem,2vw,1rem);}

/* ---------- Bot√µes ---------- */
button, .btn{
  background:var(--primary);
  color:#fff;
  border:none;
  border-radius:var(--radius);
  padding:10px 18px;
  font-weight:600;
  cursor:pointer;
  transition:var(--transition);
}
button:hover, .btn:hover{
  background:var(--secondary);
  transform:scale(1.05);
}

/* ---------- Assistente (Aury) ---------- */
.assistente{
  position:fixed;
  bottom:20px;
  right:20px;
  width:360px;
  max-width:95vw;
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:0 12px 35px rgba(0,0,0,0.15);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  z-index:99;
}
.assistente-header{
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  color:#fff;
  padding:14px 16px;
  font-weight:700;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.assistente-body{
  padding:16px;
  height:260px;
  overflow-y:auto;
  font-size:0.95rem;
}
.assistente-input{
  border-top:1px solid #e5e7eb;
  display:flex;
  align-items:center;
  padding:10px;
  background:#fafbfc;
}
.assistente-input input{
  flex:1;
  border:none;
  outline:none;
  font-size:1rem;
  background:transparent;
  padding:8px;
}
.assistente-input button{
  background:var(--primary);
  border-radius:8px;
  padding:8px 14px;
  margin-left:6px;
}

/* ---------- Contato ---------- */
.contato-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:24px;
}
.contato-card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:0 6px 20px rgba(12,20,30,0.06);
  padding:24px;
  transition:var(--transition);
}
.contato-card:hover{transform:translateY(-4px);}
.contato-card h4{color:var(--primary);margin-bottom:8px;}
.contato-card p{color:var(--muted);}

/* ---------- Responsividade ---------- */
@media (max-width: 992px){
  header{padding:36px 10px;}
  main{margin:20px auto;}
}
@media (max-width: 768px){
  nav{gap:0.5rem;}
  .cards, .contato-grid{gap:18px;}
  header img{max-width:90px;}
  .assistente{width:320px;}
}
@media (max-width: 480px){
  header{padding:28px 10px;}
  header h1{font-size:1.4rem;}
  header p{font-size:0.9rem;}
  nav a,nav button{font-size:0.85rem;}
  .assistente{width:100%;right:0;bottom:0;border-radius:16px 16px 0 0;}
  .assistente-body{height:200px;}
  .card, .contato-card{padding:18px;}
}

  </style>
</head>
<body>
  <!-- Particle canvas (full-site subtle particles) -->
  <canvas id="bgParticles" class="particle-canvas" aria-hidden="true"></canvas>

  <!-- subtle decorative floats -->
  <div class="floating-deco float-1" aria-hidden="true"></div>
  <div class="floating-deco float-2" aria-hidden="true"></div>

  <header>
    <div class="logo-wrap" aria-hidden="false" role="img" aria-label="Logo AtecSeven">
      <img src="logo2.png" alt="Logo AtecSeven">
    </div>
    <h1>AtecSeven Tecnologia</h1>
    <p>Inovando o futuro, hoje!</p>
  </header>

  <nav>
    <a class="active" data-target="home">In√≠cio</a>
    <a data-target="services">Servi√ßos</a>
    <a data-target="about">Sobre N√≥s</a>
    <a data-target="contact">Contato</a>
    <button id="toggleTheme" aria-label="Alternar tema">üåô</button>
  </nav>

  <main>
    <section id="home" class="active">
      <h2>Bem-vindo √† AtecSeven Tecnologia</h2>
      <p style="text-align:center;color:var(--muted);max-width:860px;margin:auto">
        Transformamos tecnologia em crescimento real para sua empresa. Solu√ß√µes em infra, sistemas, aplicativos, design e marketing ‚Äî tudo pensado para gerar resultados mensur√°veis.
      </p>
      <div style="text-align:center;margin-top:20px">
        <a href="#" id="btnServices" class="cta">Conhe√ßa nossos servi√ßos</a>
      </div>
    </section>

    <section id="services">
      <h2>Nossos Servi√ßos</h2>
      <div class="services" aria-live="polite">
        <div class="service"><i class="fas fa-network-wired"></i><h3>Redes e Infraestrutura</h3><p>Planejamento, cabeamento estruturado e suporte de rede.</p></div>
        <div class="service"><i class="fas fa-desktop"></i><h3>Suporte T√©cnico</h3><p>Atendimento remoto e on-site, manuten√ß√£o preventiva e corretiva.</p></div>
        <div class="service"><i class="fas fa-palette"></i><h3>Design & Identidade</h3><p>Cria√ß√£o de identidade visual, logotipos e materiais gr√°ficos.</p></div>
        <div class="service"><i class="fas fa-folder-open"></i><h3>Portf√≥lios Profissionais</h3><p>Cria√ß√£o e otimiza√ß√£o de portf√≥lios digitais para profissionais e ag√™ncias.</p></div>
        <div class="service"><i class="fas fa-mobile-alt"></i><h3>Aplicativos & Web</h3><p>Desenvolvimento de apps mobile e sistemas web sob medida.</p></div>
        <div class="service"><i class="fas fa-user-check"></i><h3>UI/UX</h3><p>Experi√™ncias intuitivas e prot√≥tipos interativos que aumentam convers√µes.</p></div>
        <div class="service"><i class="fas fa-bullhorn"></i><h3>Marketing Digital</h3><p>SEO, campanhas pagas e gest√£o de redes sociais.</p></div>
        <div class="service"><i class="fas fa-chart-line"></i><h3>Sistemas de Gest√£o</h3><p>ERP, integra√ß√£o banc√°ria e automa√ß√£o de processos administrativos.</p></div>
      </div>
    </section>

    <section id="about">
      <h2>Sobre N√≥s</h2>
      <p style="max-width:900px;margin:auto;color:var(--muted);line-height:1.5">
        A <strong>ATECSEVEN TECNOLOGIA LTDA</strong> foi criada com o prop√≥sito de impulsionar micro, pequenas e m√©dias empresas a alcan√ßarem seu m√°ximo potencial. Oferecemos solu√ß√µes tecnol√≥gicas estrat√©gicas, pensadas para gerar efici√™ncia e crescer com seguran√ßa.
      </p>
      <br>
      <p style="max-width:900px;margin:auto;color:var(--muted);line-height:1.5">
        Nosso CEO, <strong>Arnaldo S. Lima</strong>, tem como miss√£o tornar a tecnologia uma alavanca real ‚Äî acess√≠vel, mensur√°vel e estrat√©gica ‚Äî para neg√≥cios de todos os tamanhos. Ele acredita que, com a combina√ß√£o certa de tecnologia, processos e prop√≥sito, toda empresa pode se tornar a melhor vers√£o de si mesma.
      </p>
    </section>

    <section id="contact">
      <h2>Contato e Informa√ß√µes Empresariais</h2>

      <div class="info-grid">
        <div class="info" aria-labelledby="dados-title">
          <h4 id="dados-title"><i class="fas fa-building"></i> Dados Cadastrais</h4>
          <p><strong>CNPJ:</strong> 63.373.374/0001-72</p>
          <p><strong>Raz√£o Social:</strong> ATECSEVEN TECNOLOGIA LTDA</p>
          <p><strong>Nome Fantasia:</strong> ATECSEVEN SOLU√á√ïES TECNOL√ìGICAS</p>
          <p><strong>Porte:</strong> ME</p>
          <p><strong>Data de Abertura:</strong> 27/10/2025</p>
          <p><strong>Natureza Jur√≠dica:</strong> 206-2 - Sociedade Empres√°ria Limitada</p>
        </div>

        <div class="info" aria-labelledby="end-title">
          <h4 id="end-title"><i class="fas fa-map-marker-alt"></i> Matriz</h4>
          <p><strong>Logradouro:</strong> Rua da Bahia, 1148 - Sala 1208</p>
          <p><strong>Bairro:</strong> Centro</p>
          <p><strong>Munic√≠pio:</strong> Belo Horizonte - MG</p>
          <p><strong>CEP:</strong> 30.160-906</p>
        </div>

        <div class="info" aria-labelledby="cnae-title">
          <h4 id="cnae-title"><i class="fas fa-briefcase"></i> Atividades Econ√¥micas</h4>
          <p><strong>Principal:</strong> 82.19-9-99 - Prepara√ß√£o de documentos e servi√ßos especializados de apoio administrativo.</p>
          <p><strong>Secund√°ria:</strong> 82.11-3-00 - Servi√ßos combinados de escrit√≥rio e apoio administrativo.</p>
        </div>

        <div class="info" aria-labelledby="contato-title">
          <h4 id="contato-title"><i class="fas fa-phone"></i> Contatos</h4>
          <p><strong>Telefone:</strong> (64) 9 9295-2748</p>
          <p><strong>Email:</strong> <span id="mainEmail">comercial@atecseven.com.br</span>
            <button aria-label="Copiar email" id="copyEmailBtn" style="margin-left:8px;padding:6px 8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:#fff;cursor:pointer"><i class="fas fa-copy"></i></button>
          </p>
          <p><strong>WhatsApp:</strong> <a href="https://wa.me/5564992952748" target="_blank" rel="noopener noreferrer">+55 (64) 9 9295-2748</a></p>
          <div style="margin-top:10px">
            <a href="https://facebook.com/atecseven.tecnologia" target="_blank" rel="noopener noreferrer" style="margin-right:8px"><i class="fab fa-facebook-f"></i></a>
            <a href="https://instagram.com/atecseven_tecnologia" target="_blank" rel="noopener noreferrer" style="margin-right:8px"><i class="fab fa-instagram"></i></a>
            <a href="https://linkedin.com/in/atecseven-tecnologia" target="_blank" rel="noopener noreferrer"><i class="fab fa-linkedin-in"></i></a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- ASSISTANT TOGGLE -->
  <div class="assistant-toggle" id="assistantToggle" title="Abrir assistente" aria-hidden="false">
    <i class="fas fa-robot" style="font-size:20px"></i>
  </div>

  <!-- ASSISTANT PANEL -->
  <div class="assistant" id="assistant" role="dialog" aria-label="Assistente AtecSeven">
    <div class="assistant-header">
      <div class="avatar" aria-hidden="true">
        <div class="waves">
          <div class="wave"></div>
          <div class="wave"></div>
          <div class="wave"></div>
        </div>
        <div class="face"><i class="fas fa-robot" style="font-size:20px;color:rgba(255,255,255,0.95)"></i></div>
      </div>
      <div style="flex:1;text-align:left">
        <div class="title">Aury</div>
        <div class="subtitle">Assistente virtual ‚Ä¢ AtecSeven</div>
      </div>
    </div>

    <div class="assistant-body" id="assistantBody" aria-live="polite">
      <!-- messages injected here -->
      <div class="assistant-message bot" id="welcomeMessage">
        Ol√°! üëã Sou a <strong>Aury</strong>, assistente virtual da AtecSeven. Escolha uma op√ß√£o abaixo para eu ajudar:
      </div>
    </div>

    <div class="assistant-actions">
      <button type="button" id="btnFinanceiro"><i class="fas fa-money-bill-wave"></i> Financeiro</button>
      <button type="button" id="btnSuporte"><i class="fas fa-tools"></i> Suporte</button>
      <button type="button" id="btnOrcamento"><i class="fas fa-file-invoice-dollar"></i> Or√ßamento</button>
    </div>
  </div>

  <footer>
    <p>&copy; <span id="year"></span> AtecSeven Tecnologia. Todos os direitos reservados.</p>
  </footer>

  <script>
    // ---------- Basic UI & Section control ----------
    const navLinks = document.querySelectorAll('nav a[data-target]');
    const sections = document.querySelectorAll('main section');
    function showSection(target){
      sections.forEach(s => s.classList.remove('active'));
      navLinks.forEach(a => a.classList.remove('active'));
      const sec = document.getElementById(target);
      const link = document.querySelector(`nav a[data-target="${target}"]`);
      if(sec && link){
        link.classList.add('active');
        // small delay for nicer feel
        setTimeout(()=> sec.classList.add('active'), 80);
        window.scrollTo({top:0,behavior:'smooth'});
      }
    }
    navLinks.forEach(a => a.addEventListener('click', e => { e.preventDefault(); showSection(a.dataset.target); }));

    document.getElementById('btnServices').addEventListener('click', e=>{
      e.preventDefault();
      showSection('services');
    });

    // Theme toggle
    const toggleTheme = document.getElementById('toggleTheme');
    toggleTheme.addEventListener('click', ()=>{
      document.body.classList.toggle('dark-mode');
      toggleTheme.textContent = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
      // persist theme
      localStorage.setItem('atec-theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
    });
    if(localStorage.getItem('atec-theme') === 'dark'){
      document.body.classList.add('dark-mode');
      toggleTheme.textContent = '‚òÄÔ∏è';
    }

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // copy email quick action
    document.getElementById('copyEmailBtn').addEventListener('click', () => {
      const txt = document.getElementById('mainEmail').textContent.trim();
      navigator.clipboard.writeText(txt).then(()=> alert('Email copiado!'), ()=> alert('Erro ao copiar'));
    });

    // ---------- Assistant behavior ----------
    const assistantToggle = document.getElementById('assistantToggle');
    const assistant = document.getElementById('assistant');
    const assistantBody = document.getElementById('assistantBody');

    assistantToggle.addEventListener('click', ()=>{
      const isOpen = assistant.style.display === 'flex';
      assistant.style.display = isOpen ? 'none' : 'flex';
      if(!isOpen){
        // scroll to bottom if opened
        setTimeout(()=> assistantBody.scrollTop = assistantBody.scrollHeight, 220);
      }
    });

    // helper to add message
    function addBotMessage(html, typing=false){
      const msg = document.createElement('div');
      msg.className = 'assistant-message bot';
      assistantBody.appendChild(msg);
      assistantBody.scrollTop = assistantBody.scrollHeight;
      if(typing){
        // show typing indicator then type
        msg.innerHTML = `<div class="typing"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>`;
        assistantBody.scrollTop = assistantBody.scrollHeight;
        return {
          typeOut: (text, delay=25) => {
            setTimeout(()=>{
              msg.innerHTML = ''; let i=0;
              const interval = setInterval(()=> {
                msg.innerHTML += text[i] === '<' ? '' : text[i]; // naive, we'll just append directly
                i++;
                assistantBody.scrollTop = assistantBody.scrollHeight;
                if(i>=text.length){
                  clearInterval(interval);
                }
              }, delay);
            }, 800);
          },
          replace: (text)=>{ setTimeout(()=> { msg.innerHTML = text; assistantBody.scrollTop = assistantBody.scrollHeight; }, 800); }
        }
      } else {
        msg.innerHTML = html;
        assistantBody.scrollTop = assistantBody.scrollHeight;
        return null;
      }
    }

    // more precise typed message (handles html by inserting text nodes)
    function typedBotMessage(text, typingDelay=18){
      const msg = document.createElement('div');
      msg.className = 'assistant-message bot';
      assistantBody.appendChild(msg);
      assistantBody.scrollTop = assistantBody.scrollHeight;

      // typing indicator first
      const typingEl = document.createElement('div');
      typingEl.className = 'typing';
      typingEl.innerHTML = '<span class="dot"></span><span class="dot"></span><span class="dot"></span>';
      msg.appendChild(typingEl);

      // after small pause, replace with text typed char-by-char
      setTimeout(()=>{
        msg.removeChild(typingEl);
        // create text nodes safe
        let i = 0;
        const out = document.createElement('span');
        msg.appendChild(out);
        function step(){
          if(i < text.length){
            out.textContent += text[i++];
            assistantBody.scrollTop = assistantBody.scrollHeight;
            setTimeout(step, typingDelay);
          }
        }
        step();
      }, 800);
      return msg;
    }

    // actions: financeiro, orcamento, suporte
    const pixKey = 'comercial@atecseven.com.br';
    const phone = '5564992952748';
    const phoneDisplay = '+55 (64) 9 9295-2748';

    // Financeiro
    document.getElementById('btnFinanceiro').addEventListener('click', async ()=>{
      if(assistant.style.display !== 'flex') assistant.style.display = 'flex';
      typedBotMessage('Aguarde enquanto eu envio a chave PIX para voc√™ regularizar... üí≥');
      setTimeout(()=> {
        const html = `<div style="margin-top:8px"><strong>Chave PIX:</strong> <span id="pixValue" style="font-weight:700">${pixKey}</span>
          <button id="copyPix" style="margin-left:10px;padding:6px 8px;border-radius:8px;border:none;background:linear-gradient(90deg,var(--primary),var(--secondary));color:#fff;cursor:pointer"><i class="fas fa-copy"></i></button>
          </div>`;
        addBotMessage(html, false);
        // attach copy handler
        setTimeout(()=> {
          const btn = document.getElementById('copyPix');
          if(btn){
            btn.addEventListener('click', ()=> {
              navigator.clipboard.writeText(pixKey).then(()=> alert('Chave PIX copiada!'), ()=> alert('Erro ao copiar'));
            });
          }
        }, 80);
      }, 1400);
    });

    // Or√ßamento
    document.getElementById('btnOrcamento').addEventListener('click', ()=>{
      if(assistant.style.display !== 'flex') assistant.style.display = 'flex';
      typedBotMessage('Aguarde enquanto te envio o WhatsApp para or√ßamento... üìû');
      setTimeout(()=> {
        const wa = `https://wa.me/${phone}?text=${encodeURIComponent('Ol√° AtecSeven, gostaria de um or√ßamento.')}`;
        const html = `<div style="margin-top:8px"><a href="${wa}" target="_blank" rel="noopener noreferrer" style="display:inline-block;padding:10px 12px;border-radius:10px;background:linear-gradient(90deg,var(--primary),var(--secondary));color:#fff;font-weight:700;text-decoration:none">Abrir WhatsApp para Or√ßamento</a></div>`;
        addBotMessage(html,false);
      }, 1200);
    });

    // Suporte
    document.getElementById('btnSuporte').addEventListener('click', ()=>{
      if(assistant.style.display !== 'flex') assistant.style.display = 'flex';
      typedBotMessage('Conectando voc√™ ao suporte t√©cnico... ‚öôÔ∏è');
      setTimeout(()=> {
        const wa = `https://wa.me/${phone}?text=${encodeURIComponent('Ol√° AtecSeven, preciso de suporte t√©cnico.')}`;
        const html = `<div style="margin-top:8px"><a href="${wa}" target="_blank" rel="noopener noreferrer" style="display:inline-block;padding:10px 12px;border-radius:10px;background:linear-gradient(90deg,var(--primary),var(--secondary));color:#fff;font-weight:700;text-decoration:none">Falar com Suporte</a></div>`;
        addBotMessage(html,false);
      }, 1200);
    });

    // accessibility: close assistant on Escape
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape') assistant.style.display = 'none';
    });

    // ensure first welcome message scrolls into view
    setTimeout(()=> {
      const wm = document.getElementById('welcomeMessage');
      if(wm) assistantBody.scrollTop = assistantBody.scrollHeight;
    }, 300);

    // small safety: close assistant when clicking outside (mobile friendly)
    document.addEventListener('click',(e)=>{
      const target = e.target;
      if(!assistant.contains(target) && !assistantToggle.contains(target)){
        // we keep assistant open unless explicitly closed by toggle
      }
    });

    // initial state: keep assistant closed
    assistant.style.display = 'none';


    /* =======================
       Particle system (canvas)
       lightweight, subtle, full-page
       ======================= */
    (function(){
      const canvas = document.getElementById('bgParticles');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');
      let w = 0, h = 0, dpr = Math.max(1, window.devicePixelRatio || 1);
      let particles = [];
      const PARTICLE_COUNT_BASE = 40; // baseline density
      const colors = [
        'rgba(0,212,255,0.12)',  // secondary (ciano) faint
        'rgba(0,123,255,0.10)',  // primary faint
        'rgba(255,255,255,0.04)' // soft white
      ];

      function resize(){
        dpr = Math.max(1, window.devicePixelRatio || 1);
        w = Math.max(320, window.innerWidth);
        h = Math.max(240, window.innerHeight);
        canvas.width = Math.floor(w * dpr);
        canvas.height = Math.floor(h * dpr);
        canvas.style.width = w + 'px';
        canvas.style.height = h + 'px';
        ctx.setTransform(dpr,0,0,dpr,0,0);
        initParticles();
      }

      function rand(min, max){ return Math.random() * (max - min) + min; }

      function initParticles() {
        particles = [];
        // density scales with viewport area but capped
        const areaFactor = (w*h) / (1280*720);
        const targetCount = Math.min(180, Math.floor(PARTICLE_COUNT_BASE * areaFactor));
        for(let i=0;i<targetCount;i++){
          particles.push(createParticle());
        }
      }

      function createParticle(){
        // distribute a bit more near center-top so it looks nicer near header too
        const x = rand(0, w);
        const y = rand(0, h);
        const size = rand(0.6, 3.2);
        const speed = rand(0.1, 0.6); // very slow
        const angle = rand(-Math.PI, Math.PI);
        const vx = Math.cos(angle) * speed * rand(0.2,1.2);
        const vy = Math.sin(angle) * speed * rand(0.2,1.2) - 0.02; // slight upward drift
        const color = colors[Math.floor(Math.random()*colors.length)];
        const life = rand(8, 40);
        return { x, y, vx, vy, size, color, life, age: rand(0, life) };
      }

      function update(){
        for(let p of particles){
          p.x += p.vx;
          p.y += p.vy;
          p.age += 0.02;
          // gentle wandering
          p.vx += Math.sin((p.age + p.x) * 0.002) * 0.0008;
          p.vy += Math.cos((p.age + p.y) * 0.002) * 0.0008;
          // respawn if out of bounds or old
          if(p.x < -40 || p.x > w+40 || p.y < -40 || p.y > h+40 || p.age > p.life){
            Object.assign(p, createParticle());
            p.x = rand(0, w);
            p.y = h + rand(0, 80); // respawn near bottom for upward drift
          }
        }
      }

      function draw(){
        ctx.clearRect(0,0,w,h);
        // subtle darkening / gradient overlay to give depth (low alpha)
        // we won't draw heavy layers - keep minimal
        for(let p of particles){
          ctx.beginPath();
          const alpha = Math.max(0.02, 1 - (p.age / p.life));
          ctx.fillStyle = p.color.replace(/[\d\.]+\)$/,' ' + alpha + ')').replace(',)',')'); // keep color but adjust alpha
          // fallback: if replace didn't work, use rgba manually
          // draw soft circle with radial gradient
          const rad = p.size;
          const g = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, rad*6);
          g.addColorStop(0, `rgba(255,255,255,${0.22 * alpha})`);
          g.addColorStop(0.2, p.color.replace(/[\d\.]+\)$/,' ' + (0.18 * alpha) + ')'));
          g.addColorStop(1, `rgba(255,255,255,0)`);
          ctx.fillStyle = g;
          ctx.arc(p.x, p.y, rad*6, 0, Math.PI*2);
          ctx.fill();
        }
      }

      // animation loop
      let raf = null;
      function loop(){
        update();
        draw();
        raf = requestAnimationFrame(loop);
      }

      // init
      resize();
      loop();
      window.addEventListener('resize', ()=> {
        cancelAnimationFrame(raf);
        resize();
        loop();
      });
    })();
  </script>
</body>
</html>
